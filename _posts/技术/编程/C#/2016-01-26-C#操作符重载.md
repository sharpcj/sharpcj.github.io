---
layout: post
title: "C# 操作符重载"
date:  2016-01-22 17:58:12 +0800
categories: ["技术", "编程", "C#"]
tag: ["C#", "重载"]
---

操作符也是可以重载的，先总结一下操作符的性质：

- 如我们所知，操作符在不同的情况下有不同的语义，具体取决于它所操作的类型。例如，操作符“+”在操作数值类型的时候意味着“加”，在操作字符串时意味着“连接”。
- 每个操作符都有一个优先级。例如，操作符“*”具有比操作符“+”更高的优先级。意味着表达式 a+b*c 等同于 a+(b*c)。
- 每个操作符还具有一个结合性。 是它定义了操作符从左向右求值还是从右向左求值。例如，操作符“=”具有右结合性。所以 a=b=c 等同于 a=(b=c) 。
　　

操作符又分为一元操作符和二元操作符，只有一个操作数的操作符称为一元操作符，如“++”。

C#允许在定义自己的类型时重载操作符。但是有如下限制：

1. 不能更改一个操作符的优先级和结合性。
2. 不能更改一个操作符的元数。
3. 不能发明新的操作符。
4. 在操作符用于内建类型时，不能更改操作符的含义。例如，表达式 1+2 有一个预定义的含义，这个含义不允许被重写，否则会出现极大混乱。
5. 一些操作符不能被重载，比如 “.” ，它表示方位一个类成员。
6. 所有操作符必须是public。
7. 所有操作符必须是 static 的，操作符永远不具有多态性，不能使用 virtual、abstract、override 或者 sealed 修饰。
8. 操作符的参数必须是显示的，操作符永远没有一个隐藏的 this 参数。（在 C++ 中是允许的）
